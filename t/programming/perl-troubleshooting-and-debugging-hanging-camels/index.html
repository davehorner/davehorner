
<html>
<head>
  <meta name="viewport" content="width=device-width,initial-scale=1" id="viewport-meta" />
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
  <link href="/favicon.ico" rel="icon" type="image/x-icon">
  <title>PERL troubleshooting and debugging hanging camels.</title>
  
  
	<script src=/js/jquery.min.js></script>
	<script src=/js/modernizr.custom.min.js></script>
	<script src=/js/TweenMax.min.js></script>
    <script src=/js/ScrollMagic.min.js></script>
	<script src=/js/animation.gsap.js></script>
	<script src=/js/debug.addIndicators.js></script> 
	<script src=/js/highlight.pack.js></script>
	<style type='text/css'>
.bordeaux {
    background-color: #953543;
}
	#pinContainer {
		width: 100%;
		height: 100%;
		overflow: hidden;
	}
	.panel {
		height: 100%;
		width: 100%;
		position: absolute;
	}

    section {
        border-radius: 10px;
        border: 3px dashed #1c87c9;
        margin-left:auto;margin-right:auto;
	    flex-direction: column;
	    flex-wrap: wrap;

    }
      h1 {
        font-family: 'Courier New', Courier, monospace;
        font-size: 15;
        margin: 0px;
	    border: 1px solid black;
      }


    .box1.outline, .box2.outline, .box3.outline {
	border: 1px solid white;
}
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
   
   });
  </script>
  <style>
    /**
 * Make body at least 100% height
 * You can also use a combination
 * of height: 100% in <html> and
 * min-height: 100% in <body>.
 */
.holy-grail {
	min-height: 100vh;
}
/**
 * Let's do a column distribution
 * (mobile first)
 * flex value is 1 1 auto to make
 * body skrinkable and extensible
 */
.holy-grail,
.holy-grail-body {
	display: flex;
	flex: 1 1 auto;
	flex-direction: column;
}

/**
 * Content body item is made
 * extensible too.
 */
.holy-grail-content {
	flex: 1 1 auto;
}

/**
 * Put the first sidebar before content.
 * If you need sidebar to be before content
 * only in big screen put those 3 next lines
 * in @media block.
 */
.holy-grail-sidebar-1 {
	order: -1;
}

/**
 * Let's introduce bigger screen
 */

@media (min-width: 768px) {
	/**
	 * Body items are now side by side
	 */
	.holy-grail-body {
		flex-direction: row;
	}

	/**
	 * Sidebars have a basic 260 width
	 * and are not really flexible anymore
	 */
	.hg-sidebar {
		flex: 0 0 160px;
	}
}
  </style>
</head>
<body>
 	<header>
"hello world"   <script type="module">
    import { search, default as init } from '/tinysearch_engine.js';
    window.search = search;

    async function run() {
      await init('/tinysearch_engine_bg.wasm');
    }
    run();
  </script>

  <script>
    // And afterwards we can use all the functionality defined in wasm.
    function doSearch() {
      let value = document.getElementById("search").value;
      console.log(`Search query: ${value}`);

      const results = search(value, 10);

      console.log(`Results: ${results}`);

      let ul = document.getElementById("results");
      ul.style.display="inline";
      ul.innerHTML = "";

      for (i = 0; i < results.length; i++) {
        var li = document.createElement("li");

        let [title, url] = results[i];
        let elemlink = document.createElement('a');
        elemlink.innerHTML = title;
        elemlink.setAttribute('href', url);
        li.appendChild(elemlink);

        ul.appendChild(li);
      }
    }
  </script>
  <input type="text" id="search" onkeyup="doSearch()" size="6">
  <ul id="results"></ul> <img id="banner.top"/>
	</header>
	<div class="holy-grail-body">
		<section class="holy-grail-content">
article in <a href="/t/">Tech</a>
<a href="/t/programming/">programming</a>
    <h1>PERL troubleshooting and debugging hanging camels.</h1>
   Camel an even-toed ungulate, bearing distinctive fatty deposits known as "humps" on its back. domesticated; camels provide milk, meat, hair for textiles and other goods. A camel is a working animal with tasks ranging from human transport to bearing loads. The term "camel" is derived from Hebrew g&#257;m&#257;l it's meaning derived from the verb root g.m.l, meaning (1) stopping, weaning, going without; or (2) repaying in kind. This refers to the camels' ability to go without food or water, as well as the increased ability of service the animal provides when being properly cared for. You can do a lot with a camel; that is, if someone is properly caring for it.  a camel is happy to go without -- weaning and stopping given the chance; they give no humps if you care of them, so never forget <strong>a properly cared for ungulate will repay in kind</strong>.<br/>
<br/>
How you do handle a perl process that doesn't finish execution?  A perl script which never returns, is a hanging camel.  It isn't fun to run code that never exits -- modal dialogs, race conditions, deadlocks.  It holds up your testing; requires manual intervention, and is generally annoying.<br/>
<br/>
Camels hang around for a great many different reasons.<br/>
Perl interfaces many external libraries from other languages like C/C++; the external code itself might be causing the issue.  It could also be that the module tries to load an external library and can't find it, popping a dialog.  No big deal -- click the button and move on; but it indicates an issue with installation. Manual intervention works, but you've gotta keep poking the camel along.  These kinds of issues (while they represent some of the toughest issues) can be reported; and they can be resolved given proper care, maintenance, and collaboration.  It does take a village of caring perl developers and testers to resolve such issues; no one has time to do it all...<br/>
<img src="/images/stories/perl/perl_libeay32_missing.png" title="camels need love" alt="camels need love"><br/>
Sometimes camels even die.<br/>
<img src="/images/stories/perl/perl_interpreter_crash.png" alt="bozanga!" title="bozanga!"><br/>
Which can happen for a variety of reasons.  If you've got a crashing interpreter you're gonna have a bad time.<br/>
At least your system is still running; it could have been a ballistic fork bombing camel which does not die: unrelentingly consuming all resources from your system until it ceases to function.<br/>
<img src="/images/stories/perl/perl_system_toknees.png?" alt="owweee! he bit me." title="owweee! he bit me."> better have a camera ready; no automated test results going to CPAN testers here, take a picture for <a href="/images/stories/perl/perl_ballistic_camel.jpg" target="_blank" alt="alien::sdl cause it, but it was my system..maybe.">memories</a>.  realize, I was quite lucky to get such a picture.  it took a long time and many strange maneuvers to open procexp.exe to see <strong>cmd.exe-&gt;perl.exe all the way down.</strong> pages, pages, pages, and pages of cmd.exe-&gt;perl.exe to death.  I sadly had to cold boot. tears.<br/> <br/>
memory leaks, deadlocks, race conditions, and stack overflow; random crashes, linking the wrong libraries together, incompatible binaries, -- BSOD... things we must come to accept.<br/>
there are many reasons for these crashes&amp;issues; code authors are not omniscient and code written on one machine will run differently on another machine.<br/>
cross-platform deployment is hard.<br/>
the only hope of resolving such problems is a strong testing community, providing reports of issues back to authors. <strong>feed and caring required.</strong><br/> 
<br/>
Many of these issues are not apparent to a majority of perl users.  They happily go about their lives on their GNU/POSIX based systems, using the same modules they've always used.  I've found a few hanging camels and troublesome issues in Linux/OSX systems, but more often than not, the strange behavior rears it's perl-y teeth in the MSWin32 boxen.<br/>
<br/>
<br/>
Placing skips around troublesome tests or marking modules as 'OS unsupported' is one way of resolving these issues quickly.
<pre>
Running Build.PL
OS unsupported
-> N/A
-> FAIL Configure failed for App-MtAws-1.120.
</pre><br/>
sometimes, marking and skipping make sense.  we don't have tty devices on windows.  other times, it's because an author isn't interested in supporting the platform.  Perl provides a language to span across platforms solving the communities shared needs, camels were not meant to be platform dependent.<br/>
<br/>
<strong>This page will serve to document some of the strange behaviors I've seen while hanging out with perl</strong>.<br/>
<br/>
<a href="http://www.nntp.perl.org/group/perl.cpan.testers.discuss/2014/08/msg3458.html">cpan.testers.discuss@nntp.perl.org: How do you handle a perl process that never seems to exit?</a> - the hanging camel does not mind. chillin.<br/>
<a href="http://www.perlmonks.org/?node_id=533894">perlmonks: To Debug a Hanging Perl Script</a> <strong>just "hang in there"</strong> - strace, ktrace, kdump, truss...I wish. remember windows isn't POSIX.  debug strawberry build; <strong>forever</strong>.<br/>
<a href="https://rt.cpan.org/Ticket/Display.html?id=81993#txn-1395189">#81993: Net-Server-2.006 test stuck on Windows</a> - 2.007 still hanging camels.<br/>
<br/>
<h2>other troubleshooting perl pages</h2>
<a href="http://blog.booking.com/the-dreaded-attempt-to-free-unreferenced-scalar.html">The Dreaded "Attempt to free unreferenced scalar"</a> - SV 0xDEADBEEF, my heart sinks.<br/>
<a href="http://www.lemoda.net/perl/perl-xs-cpan-testers/index.html">Perl XS modules and CPAN testers</a> - page is a collection of the sometimes mysterious error messages from CPAN testers when compiling XS modules.<br/>
<br/>
<br/>
<h2>camels are content to hang</h2>
<a href="http://en.wikipedia.org/wiki/Camel">Camel - Wikipedia</a><br/>
<iframe width="560" height="315" src="//www.youtube.com/embed/4BO8h4Enb2U?rel=0" allowfullscreen></iframe><br/>
<br/>
<br/>
<h2>reach out and cooperate; please.</h2>
Thought -&gt; machine code; intention laboriously pecked, poked, painstakingly placed.<br/>
caring and collaboration; cooperation.<br/>
<strong>Runs fine on my machine!</strong><br/>
All truth is God's Truth.
<blockquote class="twitter-tweet" lang="en"><p>incorporate new ideas, memes, metaphors, interfaces, extensions, new ways of doing things. reach out &amp; cooperate.All Truth is God&#39;s Truth:-)</p>&mdash; Dave Horner (@DaveDaWizard) <a href="https://twitter.com/DaveDaWizard/status/507546845510631424">September 4, 2014</a></blockquote> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<a href="http://www.shlomifish.org/humour/fortunes/show.cgi?id=larry-wall-all-truth-is-gods-truh">shlomifish.org - Larry Wall: “All Truth is God’s Truth” - Fortune</a><br/>
<br/>
<br/>
<br/>
<strong>JFDI</strong>
    <div style="border: 1px;">
    Created: 2014-08-09 16:51:14
    Modified: 2014-09-10 04:45:33
    </div>

		</section>

		<div class="holy-grail-sidebar-1 hg-sidebar">
           
<a href="/">/root</a> 
<a href="/s/">sections/</a><br/>
&gt;<a href="/p/cooking/peach-custard-pie/">peach custard pie</a><br/>
&gt;<a href="/t/linux-unix-and-friends/">linux</a><br/>
&gt;<a href="/t/windows/">windows</a><br/>
&gt;<a href="/t/programming/">programming</a><br/>
&gt;<a href="/t/random-technology/">random tech</a><br/>
&gt;<a href="/t/biology-math-science/">science</a><br/>
&gt;<a href="/p/projects-and-research/">research</a><br/>
<br/><br/>
<img src="/images/moonstars.webp" alt="moon and stars"/>
<br/><br/>
<div id="quote.left"></div>
<br/><br/>
<script>
    function randomq(){
	const url = "/quotes/quotes.json";
        fetch(url)
                  .then(response => response.json())
                  .then(quotes => {
                    var q = quotes[Math.floor(Math.random()*quotes.length)];
                    document.getElementById('quote.left').innerHTML = q.introtext;
                  })
                  .catch((err) => console.log("Can't access " + url + " response." + err));
    }
    randomq();
</script>
		</div>

		<div class="holy-grail-sidebar-2 hg-sidebar">
           
<div>
<a href="/p/projects-and-research/the-visible-dave-project"><img src="/images/brainmesh1.thumb.png" alt="My brain" title="my brain"/></a>
<br/>
<a href="/p/projects-and-research/the-visible-dave-project"><img src="/images/mrihead_frontfull3d.thumb.jpg" alt=""/>
<br/>Visible Dave Project</a>
</div>
<br/><br/>
<div>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
$$\cos x = \sum\limits_{n = 0}^\infty {\frac{{\left( { - 1} \right)^n x^{2n} }}{{\left( {2n} \right)!}}}$$
</div>
		</div>

	</div>

	<footer>
		
        <div id="footer_r">
yak shaving since 2003-2023 by David A. Horner.<br>
proud yak member of the <a href="/t/random-technology/great-lodge-of-the-royal-order-of-yaks-yak-shaving/">Great Lodge of the Royal Order of Yaks</a><br>
</div>
	</footer>


<script>
	const burl = "/banners/banners.json";
  fetch(burl)
             .then(response => response.json())
             .then(banners => {
             var q = banners[Math.floor(Math.random()*banners.length)];
	           document.getElementById('banner.top').src=q.path;
             })
            .catch((err) => console.log("Can't access " + burl + " response." + err));
</script>

</body>

</html>